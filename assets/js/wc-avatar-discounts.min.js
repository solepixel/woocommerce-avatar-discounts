var WoocommerceAvatarDiscounts;(WoocommerceAvatarDiscounts=window.WoocommerceAvatarDiscounts||{}).Manage=function(t){"use strict";var n=".wc-ad-manage-avatars",a=function(){t(n+" a").on("click",function(a){a.preventDefault();var n=t(this).attr("data-avatar-id");if(!o())return t(this).blur(),void e();i(n)})},o=function(){return!!t("body").hasClass("wp-admin")||t(n).hasClass("expanded")},e=function(){t(n).addClass("expanded")},i=function(a){t('input[name="woocommerce_avatar_discounts_avatar"]').val(a),t(n+" a.status-featured").removeClass("status-featured"),t(n+' a[data-avatar-id="'+a+'"]').addClass("status-featured").blur(),t(n).removeClass("expanded")},r=function(){t(".wc-ad-upload").on("change",function(){var a=t(this);t(".wc-ad-file-display").html(s(a.val()))})},s=function(a){if(a){var n=0<=a.indexOf("\\")?a.lastIndexOf("\\"):a.lastIndexOf("/"),t=a.substring(n);return 0!==t.indexOf("\\")&&0!==t.indexOf("/")||(t=t.substring(1)),t}};return{init:function(){a(),r()}}}(jQuery),jQuery(window).on("load",WoocommerceAvatarDiscounts.Manage.init),(WoocommerceAvatarDiscounts=window.WoocommerceAvatarDiscounts||{}).Upload=function(a){"use strict";return init=function(){handleUpload()},handleUpload=function(){a(".wc-ad-upload").on("change",function(){})},{init:init}}(jQuery),jQuery(window).on("load",WoocommerceAvatarDiscounts.Upload.init);